# This file contains a configuration for the "Anycubic Kossel Linear
# Plus Large Printing Size", "Anycubic Kossel Pulley Plus Large
# Printing Size" and similar delta printer from 2017.
# The Anycubic delta printers use the TriGorilla board which is an
# AVR ATmega2560 Arduino + RAMPS compatible board.
# To use this config, the firmware should be compiled for the AVR atmega2560.

# See docs/Config_Reference.md for a description of parameters.

[include adxl.cfg]
[include axes.cfg]
[include debug.cfg]
[include display.cfg]
[include extruder.cfg]
[include fans.cfg]
[include filament.cfg]
[include filament_sensor.cfg]
[include heater_bed.cfg]
[include host.cfg]
[include kiauh_macros.cfg]
[include macros.cfg]
[include pins.cfg]
[include probe.cfg]
[include print_macro.cfg]
[include reset.cfg]
[include sensors.cfg]
[include timelapse.cfg]
[include tmc.cfg]

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_5D0032000551393038383735-if00
restart_method: command

[printer]
delta_radius: 134.67
kinematics: delta
max_velocity: 1500
max_accel: 20000
max_accel_to_decel: 10000
max_z_velocity: 50
minimum_z_position: -5
print_radius: 120
square_corner_velocity: 5

[endstop_phase]
[exclude_object]

[firmware_retraction]
retract_length: 0.3
retract_speed: 30
unretract_speed: 40

[force_move]
enable_force_move: True

[gcode_arcs]

[idle_timeout]
gcode:
  {% if printer.webhooks.state|lower == 'ready' %}
    {% if printer.pause_resume.is_paused|lower == 'false' %}
      M117 
      M84
      TURN_OFF_HEATERS
    {% endif %}
  {% endif %}
timeout: 6000

[pause_resume]
recover_velocity: 400

[respond]

[virtual_sdcard]
path: ~/gcode_files

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 30.213
#*# pid_ki = 1.815
#*# pid_kd = 125.763
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 57.565
#*# pid_ki = 2.326
#*# pid_kd = 356.181
#*#
#*# [input_shaper]
#*# shaper_type_x = mzv
#*# shaper_freq_x = 32.8
#*# shaper_type_y = mzv
#*# shaper_freq_y = 35.6
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	-0.072349, -0.072349, -0.072349, -0.072349, -0.072349, -0.072349, -0.072349, -0.072349, -0.072349, -0.072349, -0.072349
#*# 	0.125215, 0.125215, 0.125215, -0.099257, -0.029608, 0.070298, 0.195392, 0.338243, 0.587715, 0.587715, 0.587715
#*# 	0.148323, 0.148323, 0.040138, 0.012604, 0.066238, 0.134854, 0.241238, 0.400104, 0.565138, 0.773323, 0.773323
#*# 	0.157840, 0.157840, 0.102968, 0.075294, 0.112599, 0.165825, 0.250099, 0.362794, 0.515468, 0.670340, 0.670340
#*# 	0.144693, 0.144693, 0.103289, 0.094583, 0.125770, 0.183366, 0.250770, 0.332083, 0.440789, 0.557193, 0.557193
#*# 	0.365685, 0.133362, 0.103113, 0.089435, 0.114175, 0.137500, 0.176675, 0.239435, 0.328113, 0.420862, 0.665685
#*# 	0.062995, 0.062995, 0.030534, 0.044540, 0.049209, 0.086157, 0.099209, 0.157040, 0.205534, 0.275495, 0.275495
#*# 	-0.025665, -0.025665, -0.030248, -0.021775, 0.004277, 0.016312, 0.054277, 0.078225, 0.119752, 0.161835, 0.161835
#*# 	0.012128, 0.012128, -0.108360, -0.101335, -0.068211, -0.033464, 0.006789, 0.036165, 0.104140, 0.174628, 0.174628
#*# 	0.143674, 0.143674, 0.143674, -0.070434, -0.081720, -0.038363, 0.018280, 0.054566, 0.243674, 0.243674, 0.243674
#*# 	0.091072, 0.091072, 0.091072, 0.091072, 0.091072, 0.091072, 0.091072, 0.091072, 0.091072, 0.091072, 0.091072
#*# tension = 0.2
#*# min_x = -110.0
#*# algo = bicubic
#*# y_count = 11
#*# mesh_y_pps = 2
#*# min_y = -110.0
#*# x_count = 11
#*# max_y = 110.0
#*# mesh_x_pps = 2
#*# max_x = 110.0
