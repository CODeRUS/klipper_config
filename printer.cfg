# This file contains a configuration for the "Anycubic Kossel Linear
# Plus Large Printing Size", "Anycubic Kossel Pulley Plus Large
# Printing Size" and similar delta printer from 2017.
# The Anycubic delta printers use the TriGorilla board which is an
# AVR ATmega2560 Arduino + RAMPS compatible board.
# To use this config, the firmware should be compiled for the AVR atmega2560.

# See docs/Config_Reference.md for a description of parameters.

[include adxl.cfg]
[include axes.cfg]
[include debug.cfg]
#[include display.cfg]
[include extruder.cfg]
[include fans.cfg]
[include filament.cfg]
[include filament_sensor.cfg]
[include heater_bed.cfg]
[include host.cfg]
[include kiauh_macros.cfg]
[include macros.cfg]
[include pins.cfg]
[include probe.cfg]
[include print_macro.cfg]
[include reset.cfg]
#[include sensors.cfg]
[include timelapse.cfg]
[include tmc.cfg]

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_5D0032000551393038383735-if00
restart_method: command

[printer]
#delta_radius: 134.67
kinematics: delta
max_velocity: 1500
max_accel: 20000
max_accel_to_decel: 10000
max_z_velocity: 100
minimum_z_position: -5
print_radius: 125
square_corner_velocity: 5

[display_status]
[endstop_phase]
[exclude_object]

[firmware_retraction]
retract_length: 0.3
retract_speed: 30
unretract_speed: 40

[force_move]
enable_force_move: True

[gcode_arcs]

[idle_timeout]
gcode:
  {% if printer.webhooks.state|lower == 'ready' %}
    {% if printer.pause_resume.is_paused|lower == 'false' %}
      M117 
      M84
      TURN_OFF_HEATERS
    {% endif %}
  {% endif %}
timeout: 6000

[pause_resume]
recover_velocity: 400

[respond]

[save_variables]
filename: ~/klipper_config/variables.cfg

[virtual_sdcard]
path: ~/gcode_files

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 22.565
#*# pid_ki = 1.045
#*# pid_kd = 121.851
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 57.565
#*# pid_ki = 2.326
#*# pid_kd = 356.181
#*#
#*# [input_shaper]
#*# shaper_type_x = mzv
#*# shaper_freq_x = 32.8
#*# shaper_type_y = mzv
#*# shaper_freq_y = 35.6
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.221842, -0.221842, -0.221842, -0.221842, -0.221842, -0.221842, -0.221842, -0.221842, -0.221842, -0.221842, -0.221842, -0.221842, -0.221842, -0.221842, -0.221842
#*# 	  -0.102522, -0.102522, -0.102522, -0.102522, -0.102522, -0.185147, -0.153855, -0.147549, -0.133963, -0.090669, -0.023452, -0.023452, -0.023452, -0.023452, -0.023452
#*# 	  -0.098094, -0.098094, -0.098094, -0.098094, -0.108260, -0.098039, -0.082183, -0.069891, -0.053766, -0.048600, 0.003456, 0.055750, 0.055750, 0.055750, 0.055750
#*# 	  -0.005547, -0.005547, -0.005547, -0.023365, -0.025163, -0.029726, -0.024936, -0.010317, -0.006402, -0.007955, 0.038512, 0.030155, 0.078244, 0.078244, 0.078244
#*# 	  0.049254, 0.049254, 0.025927, 0.016949, 0.002362, 0.013049, 0.042601, 0.053604, 0.042128, 0.018934, 0.024292, 0.042977, 0.044533, 0.038794, 0.038794
#*# 	  0.067704, 0.067704, 0.056313, 0.052539, 0.039306, 0.057341, 0.065065, 0.075784, 0.054557, 0.028041, 0.000020, 0.015541, 0.002117, 0.006944, 0.006944
#*# 	  0.051420, 0.051420, 0.044422, 0.056380, 0.057304, 0.066583, 0.100953, 0.090758, 0.078001, 0.062992, 0.027190, -0.005420, -0.022643, -0.060094, -0.060094
#*# 	  0.216074, 0.037583, 0.057625, 0.038596, 0.057293, 0.064611, 0.079707, 0.075456, 0.078260, 0.014962, 0.002510, -0.038031, -0.047999, -0.113048, 0.062038
#*# 	  -0.005277, -0.005277, -0.022963, -0.004224, 0.029624, 0.039642, 0.054325, 0.054266, 0.057276, 0.005394, -0.020443, -0.057756, -0.109931, -0.158553, -0.158553
#*# 	  -0.055987, -0.055987, -0.069349, -0.058431, -0.020443, -0.013913, 0.020718, 0.014039, 0.018234, -0.012473, -0.042015, -0.102171, -0.146979, -0.188087, -0.188087
#*# 	  -0.097170, -0.097170, -0.121566, -0.107108, -0.074840, -0.032471, -0.024633, -0.010643, 0.000555, 0.002005, -0.008484, -0.123849, -0.160958, -0.195109, -0.195109
#*# 	  -0.131269, -0.131269, -0.131269, -0.158398, -0.152003, -0.092234, -0.054832, -0.056397, -0.029891, -0.042058, -0.074292, -0.107794, -0.083192, -0.083192, -0.083192
#*# 	  -0.115117, -0.115117, -0.115117, -0.115117, -0.170209, -0.157038, -0.097347, -0.056535, -0.060269, -0.071391, -0.058242, -0.005177, -0.005177, -0.005177, -0.005177
#*# 	  -0.093825, -0.093825, -0.093825, -0.093825, -0.093825, -0.145650, -0.132151, -0.097634, -0.056899, -0.018938, 0.054714, 0.054714, 0.054714, 0.054714, 0.054714
#*# 	  -0.011080, -0.011080, -0.011080, -0.011080, -0.011080, -0.011080, -0.011080, -0.011080, -0.011080, -0.011080, -0.011080, -0.011080, -0.011080, -0.011080, -0.011080
#*# tension = 0.2
#*# min_x = -109.97
#*# algo = bicubic
#*# y_count = 15
#*# mesh_y_pps = 2
#*# min_y = -109.97
#*# x_count = 15
#*# max_y = 109.97
#*# mesh_x_pps = 2
#*# max_x = 109.97
#*#
#*# [bed_mesh zero]
#*# version = 1
#*# points =
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# 	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
#*# tension = 0.2
#*# min_x = -109.97
#*# algo = bicubic
#*# y_count = 15
#*# mesh_y_pps = 2
#*# min_y = -109.97
#*# x_count = 15
#*# max_y = 109.97
#*# mesh_x_pps = 2
#*# max_x = 109.97
#*#
#*# [probe]
#*# z_offset = 15.50
#*#
#*# [printer]
#*# delta_radius = 135.430932
#*#
#*# [stepper_a]
#*# angle = 210.329256
#*# arm_length = 268.604528
#*# position_endstop = 311.151988
#*#
#*# [stepper_b]
#*# angle = 330.091515
#*# arm_length = 268.461600
#*# position_endstop = 311.025230
#*#
#*# [stepper_c]
#*# angle = 90.000000
#*# arm_length = 268.747770
#*# position_endstop = 311.261651
#*#
#*# [delta_calibrate]
#*# height0 = 15.5
#*# height0_pos = 23645.000,23625.000,23662.000
#*# height1 = 15.5
#*# height1_pos = 29046.000,29012.000,20828.000
#*# height2 = 15.5
#*# height2_pos = 23111.000,32376.000,23117.000
#*# height3 = 15.5
#*# height3_pos = 20928.000,28099.000,28147.000
#*# height4 = 15.5
#*# height4_pos = 22905.000,22895.000,29476.000
#*# height5 = 15.5
#*# height5_pos = 27295.000,21064.000,27340.000
#*# height6 = 15.5
#*# height6_pos = 30771.000,22960.000,23000.000
#*# distance0 = 64.94
#*# distance0_pos1 = 24685.975,24984.080,25022.336
#*# distance0_pos2 = 22619.472,27525.606,27566.632
#*# distance1 = 65.11
#*# distance1_pos1 = 24789.704,24773.756,25128.694
#*# distance1_pos2 = 24112.250,24104.659,29597.412
#*# distance2 = 65.07000000000001
#*# distance2_pos1 = 24999.656,24669.169,25022.336
#*# distance2_pos2 = 27524.395,22599.508,27566.632
#*# distance3 = 64.86
#*# distance3_pos1 = 25105.908,24773.134,24811.443
#*# distance3_pos2 = 29547.829,24095.377,24136.266
#*# distance4 = 64.97999999999999
#*# distance4_pos1 = 25000.404,24983.451,24706.888
#*# distance4_pos2 = 27537.774,27514.329,22632.269
#*# distance5 = 65.03
#*# distance5_pos1 = 24790.443,25089.830,24811.443
#*# distance5_pos2 = 24123.271,29542.159,24136.266
#*# distance6 = 64.82000000000001
#*# distance6_pos1 = 22765.646,26989.780,27390.508
#*# distance6_pos2 = 24266.011,23955.560,29390.113
#*# distance7 = 65.3
#*# distance7_pos1 = 24270.497,23959.333,28984.442
#*# distance7_pos2 = 27588.578,22648.016,27264.342
#*# distance8 = 64.93
#*# distance8_pos1 = 27350.251,22745.937,27029.425
#*# distance8_pos2 = 29342.636,24249.392,23987.131
#*# distance9 = 65.29
#*# distance9_pos1 = 28939.982,24253.828,23991.211
#*# distance9_pos2 = 27237.151,27578.599,22681.163
#*# distance10 = 64.75
#*# distance10_pos1 = 27003.067,27339.631,22779.298
#*# distance10_pos2 = 23974.345,29336.262,24290.708
#*# distance11 = 65.36
#*# distance11_pos1 = 23978.056,28932.435,24294.853
#*# distance11_pos2 = 22667.861,27224.306,27630.796
